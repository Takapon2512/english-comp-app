### 環境変数
@baseUrl = http://localhost:8080/api/v1
@access_token = `Bearer {{login.response.body.access_token}}`
@refresh_token = {{login.response.body.refresh_token}}

### ユーザー登録 (サインアップ)
# @name signup
POST {{baseUrl}}/auth/signup
Content-Type: application/json

@email = takapontype0924@gmail.com
@password = Nagano_12345
@name = Takayuki Nagano

{
    "Enail": "{{email}}",
    "Password": "{{password}}",
    "Name": "{{name}}"
}

> {%
if (response.body && response.body.access_token) {
    client.global.set("access_token", response.body.access_token);
}
%}

### レスポンス例
# {
#   "access_token": "eyJhbGciOiJIUzI1NiIs...",
#   "refresh_token": "abc123...",
#   "expires_in": 86400,
#   "token_type": "Bearer",
#   "user": {
#     "id": "user123",
#     "email": "test@example.com",
#     "name": "Test User"
#   }
# }

### ログイン
# @name login
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
    "email": "{{email}}",
    "password": "{{password}}"
}

> {%
if (response.body && response.body.access_token) {
    client.global.set("access_token", response.body.access_token);
}
%}

### レスポンス例
# {
#   "access_token": "eyJhbGciOiJIUzI1NiIs...",
#   "refresh_token": "abc123...",
#   "expires_in": 86400,
#   "token_type": "Bearer",
#   "user": {
#     "id": "user123",
#     "email": "test@example.com",
#     "name": "Test User"
#   }
# }

### リフレッシュトークンの更新
# @name refresh
POST {{baseUrl}}/auth/refresh
Content-Type: application/json

{
    "refresh_token": "{{refresh_token}}"
}

> {%
if (response.body && response.body.access_token) {
    client.global.set("access_token", response.body.access_token);
}
%}

### レスポンス例
# {
#   "access_token": "eyJhbGciOiJIUzI1NiIs...",
#   "expires_in": 86400,
#   "token_type": "Bearer"
# }

### パスワードリセットリクエスト
POST {{baseUrl}}/auth/password/reset-request
Content-Type: application/json

{
    "email": "{{email}}"
}

### レスポンス例
# {
#   "status": "success",
#   "message": "パスワードリセットメールを送信しました"
# }

### パスワードリセット
POST {{baseUrl}}/auth/password/reset
Content-Type: application/json

{
    "token": "your-reset-token",
    "new_password": "newpassword123"
}

### レスポンス例
# {
#   "status": "success",
#   "message": "パスワードを更新しました"
# }

### ========================================
### プロジェクト関連API
### ========================================

### プロジェクト作成
POST {{baseUrl}}/projects
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
    "name": "英語学習プロジェクト",
    "description": "日常会話の練習用プロジェクトです",
}

### レスポンス例
# {
#   "id": "550e8400-e29b-41d4-a716-446655440000",
#   "name": "英語学習プロジェクト",
#   "description": "日常会話の練習用プロジェクトです",
#   "tags": ["日常会話", "初級", "練習"],
#   "created_at": "2025-01-11T10:30:00Z",
#   "updated_at": "2025-01-11T10:30:00Z"
# }

### プロジェクト一覧取得
GET {{baseUrl}}/projects?per_page=10&page=1
Authorization: Bearer {{access_token}}

### レスポンス例
# {
#   "projects": [
#     {
#       "id": "550e8400-e29b-41d4-a716-446655440000",
#       "user_id": "459b49e9-8f19-4954-ad74-ed092cc48668",
#       "name": "英語学習プロジェクト",
#       "description": "日常会話の練習用プロジェクトです",
#       "tags": [
#         {
#           "id": "tag-id-1",
#           "project_id": "550e8400-e29b-41d4-a716-446655440000",
#           "name": "日常会話",
#           "created_at": "2025-01-11T10:30:00Z"
#         }
#       ],
#       "created_at": "2025-01-11T10:30:00Z",
#       "updated_at": "2025-01-11T10:30:00Z"
#     }
#   ],
#   "total": 1,
#   "page": 1,
#   "per_page": 10
# }

### プロジェクト詳細取得
GET {{baseUrl}}/projects/550e8400-e29b-41d4-a716-446655440000
Authorization: Bearer {{access_token}}

### レスポンス例
# {
#   "project": {
#     "id": "550e8400-e29b-41d4-a716-446655440000",
#     "user_id": "459b49e9-8f19-4954-ad74-ed092cc48668",
#     "name": "英語学習プロジェクト",
#     "description": "日常会話の練習用プロジェクトです",
#     "tags": [
#       {
#         "id": "tag-id-1",
#         "project_id": "550e8400-e29b-41d4-a716-446655440000",
#         "name": "日常会話",
#         "created_at": "2025-01-11T10:30:00Z"
#       },
#       {
#         "id": "tag-id-2",
#         "project_id": "550e8400-e29b-41d4-a716-446655440000",
#         "name": "初級",
#         "created_at": "2025-01-11T10:30:00Z"
#       }
#     ],
#     "created_at": "2025-01-11T10:30:00Z",
#     "updated_at": "2025-01-11T10:30:00Z"
#   }
# }